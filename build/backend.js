!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=3)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.lodash},function(e,t){function o(){return e.exports=o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,o.apply(this,arguments)}e.exports=o,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,o){"use strict";o.r(t);var r=o(2),n=o.n(r),l=o(0),i=o(1);const a=[{value:"px",label:"px",default:0},{value:"%",label:"%",default:0},{value:"em",label:"em",default:0},{value:"rem",label:"rem",default:0}],c=e=>e&&(e.top||e.right||e.bottom||e.left||e.topLeft||e.topRight||e.bottomRight||e.bottomLeft),d=e=>{if(e){const t=Object.values(e);return t.every(e=>e===t[0])}return!1},s=e=>{let t={};if(e.backgroundSizing&&(t.backgroundSize="percent"===e.backgroundSizing?e.backgroundSizingPercent+"%":e.backgroundSizing),e.backgroundPosition&&(t.backgroundPosition=`${100*e.backgroundPosition.x}% ${100*e.backgroundPosition.y}%`),e.backgroundImage&&(t.backgroundImage=`url("${e.backgroundImage}")`),c(e.padding)&&(d(e.padding)?t.padding=e.padding.top:t={...t,paddingTop:e.padding.top,paddingRight:e.padding.right,paddingBottom:e.padding.bottom,paddingLeft:e.padding.left}),c(e.borderWidth)&&(d(e.borderWidth)?t.borderWidth=e.borderWidth.top:t={...t,borderTopWidth:e.borderWidth.top,borderRightWidth:e.borderWidth.right,borderBottomWidth:e.borderWidth.bottom,borderLeftWidth:e.borderWidth.left}),e.borderColor&&(t.borderColor=e.borderColor),e.shadowColor||e.shadowOffsetX||e.shadowOffsetY||e.shadowRadius){const o=[e.shadowOffsetX||0,e.shadowOffsetY||0,e.shadowRadius||0,e.shadowColor||"transparent"];t.boxShadow=o.join(" ")}return c(e.borderRadius)&&(d(e.borderRadius)?t.borderRadius=e.borderRadius.topLeft:t={...t,borderTopLeftRadius:e.borderRadius.topLeft,borderTopRightRadius:e.borderRadius.topRight,borderBottomRightRadius:e.borderRadius.bottomRight,borderBottomLeftRadius:e.borderRadius.bottomLeft}),{...e.style,...t}},{registerBlockType:u}=wp.blocks,{PanelBody:b,PanelRow:p,ToolbarGroup:g,ToolbarItem:m,Flex:f,Button:h,SelectControl:k,FocalPointPicker:O,RangeControl:j,__experimentalBoxControl:v,__experimentalUnitControl:R,ColorPicker:C}=wp.components,{InspectorControls:E,BlockControls:y,__experimentalBlockAlignmentMatrixToolbar:w,InnerBlocks:B,useBlockProps:x,__experimentalUseInnerBlocksProps:P,MediaUpload:z,MediaUploadCheck:T,ColorPaletteControl:S}=wp.blockEditor,{withState:I}=wp.compose,_={"top left":"is-position-top-left","top center":"is-position-top-center","top right":"is-position-top-right","center left":"is-position-center-left","center center":"is-position-center-center",center:"is-position-center-center","center right":"is-position-center-right","bottom left":"is-position-bottom-left","bottom center":"is-position-bottom-center","bottom right":"is-position-bottom-right"},L=e=>e&&"center"!==e&&"center center"!==e?_[e]:"";u("cumulus-gutenberg/imageflip-face",{apiVersion:2,title:"Flip Card Face",description:"Face container for CardFlip blocks",keywords:["image","hover","flip","imageflip","card","flipcard"],icon:{src:"format-image",foreground:"#1379ac"},parent:["cumulus-gutenberg/imageflip"],supports:{html:!1,anchor:!1,alignWide:!1,customClassName:!1,align:!1,spacing:{padding:!1},color:{gradient:!0,text:!0,background:!0}},attributes:{face:{type:"string",default:void 0},style:{type:"object",default:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%"}},padding:{type:"object",default:{top:void 0,right:void 0,bottom:void 0,left:void 0}},borderColor:{type:"string"},borderWidth:{type:"object"},backgroundImage:{type:"string",default:void 0},backgroundSizing:{type:"string",default:"cover"},backgroundSizingPercent:{type:"number",default:100},backgroundPosition:{type:"object",default:{x:.5,y:.5}},contentPosition:{type:"string",default:"center"},borderRadius:{type:"object",default:{top:"0.6em",right:"0.6em",bottom:"0.6em",left:"0.6em"}},shadowOffsetX:{type:"string",default:0},shadowOffsetY:{type:"string",default:0},shadowRadius:{type:"string",default:"0.6em"},shadowColor:{type:"string",default:"rgba(0, 0, 0, 0.25)"}},usesContext:["cumulus-flipcard/borderRadius"],edit:I({showFront:!0})(e=>{const{attributes:t,context:o,setAttributes:r}=e;Object(i.isEqual)(o["cumulus-flipcard/borderRadius"],t.borderRadius)||r({borderRadius:o["cumulus-flipcard/borderRadius"]});const n=L(t.contentPosition),d=["crsg-flipcard-face-container","crsg-flipcard-face-"+t.face];n&&d.push(["has-custom-content-position",n]);const u=x({className:d,style:s(t)}),I=P({className:"crsg-flipcard-face"},{renderAppender:B.ButtonBlockAppender,templateLock:!1}),_=e=>{const o={...t.style,...e};r({style:o})};return Object(l.createElement)("div",u,Object(l.createElement)(y,{group:"block"},Object(l.createElement)(g,null,Object(l.createElement)(w,{label:"Set content container alignment",value:t.contentPosition,onChange:e=>r({contentPosition:e})})),Object(l.createElement)(g,null,Object(l.createElement)(m,{as:f,style:{paddingLeft:"1em",paddingRight:"1em"}},t.face.toUpperCase()))),Object(l.createElement)(E,null,Object(l.createElement)(b,{title:"Background Image",initialOpen:t.backgroundImage},Object(l.createElement)(p,null,Object(l.createElement)(T,null,Object(l.createElement)(z,{label:"Background Image",type:"image",value:t.backgroundImage,render:({open:e})=>Object(l.createElement)(f,{style:{gap:"5px",justifyContent:"flex-start",marginBottom:"5px"}},Object(l.createElement)(h,{className:"button button-large",onClick:e},t.backgroundImage?"Replace Image":"Choose Image"),t.backgroundImage&&Object(l.createElement)(h,{className:"button button-large",onClick:()=>{r({backgroundImage:void 0,backgroundImageThumb:void 0})}},"Remove")),onSelect:e=>{r({backgroundImage:e.sizes.full.url,backgroundImageThumb:e.sizes.thumbnail.url})}}))),t.backgroundImage&&Object(l.createElement)(l.Fragment,null,Object(l.createElement)(O,{url:t.backgroundImage,value:t.backgroundPosition,onChange:e=>{r({backgroundPosition:e})}}),Object(l.createElement)(k,{label:"Repeat",value:t.style.backgroundRepeat,options:[{label:"None",value:"no-repeat"},{label:"Repeat",value:"repeat"},{label:"Horizontal Only",value:"repeat-x"},{label:"Vertical Only",value:"repeat-y"}],onChange:e=>_({backgroundRepeat:e})}),Object(l.createElement)(k,{label:"Sizing Method",value:t.backgroundSizing,options:[{label:"Cover",value:"cover"},{label:"Contain",value:"contain"},{label:"Percent",value:"percent"}],onChange:e=>{r({backgroundSizing:e})}})),"percent"===t.backgroundSizing&&Object(l.createElement)(p,null,Object(l.createElement)(j,{label:"Percentage Sizing",value:t.backgroundSizingPercent,initialPosition:t.backgroundSizingPercent,resetFallbackValue:100,onChange:e=>{r({backgroundSizingPercent:e}),_(s(t))},min:0,max:200}))),Object(l.createElement)(b,{title:"Padding",initialOpen:c(t.padding)},Object(l.createElement)(v,{values:t.padding,onChange:e=>{const o={...t.padding,top:e.top,right:e.right,bottom:e.bottom,left:e.left};r({padding:o})}})),Object(l.createElement)(b,{title:"Border",initialOpen:c(t.borderWidth)},Object(l.createElement)(v,{label:"Border width",values:t.borderWidth,onChange:e=>{const o={...t.borderWidth,top:e.top,right:e.right,bottom:e.bottom,left:e.left};r({borderWidth:o})}}),Object(l.createElement)(S,{label:"Border color",value:t.borderColor,onChange:e=>r({borderColor:e})}),Object(l.createElement)("div",null,Object(l.createElement)("strong",null,"Note:"),"Border radius for the entire card is set from the parent card container.")),Object(l.createElement)(b,{title:"Shadow",initialOpen:t.shadowColor},Object(l.createElement)(p,{title:"Shadow"},Object(l.createElement)(f,null,Object(l.createElement)(R,{label:"Offset X",size:"small",units:a,value:t.shadowOffsetX,onChange:e=>r({shadowOffsetX:e})}),Object(l.createElement)(R,{label:"Offset Y",size:"small",units:a,value:t.shadowOffsetY,onChange:e=>r({shadowOffsetY:e})}),Object(l.createElement)(R,{label:"Radius",size:"small",units:a,value:t.shadowRadius,onChange:e=>r({shadowRadius:e})}))),Object(l.createElement)(p,null,Object(l.createElement)(C,{label:"Shadow color",color:t.shadowColor,onChangeComplete:e=>{r({shadowColor:e.color.toRgbString()})}})))),Object(l.createElement)("div",I,I.children))}),save:e=>{const{attributes:t}=e,o=L(t.contentPosition),r=["crsg-flipcard-face-container","crsg-flipcard-face-"+t.face];o&&r.push(["has-custom-content-position",o]);const n=x.save({className:r.join(" "),style:s(t)});return Object(l.createElement)("div",n,Object(l.createElement)("div",{className:"crsg-flipcard-face"},Object(l.createElement)(B.Content,null)))}});const{registerBlockType:N}=wp.blocks,{Panel:U,PanelBody:W,PanelRow:F,ToolbarGroup:D,ToolbarItem:M,DropdownMenu:A,TextControl:H,ToggleControl:V,SelectControl:X,Button:Y,IconButton:q,__experimentalUnitControl:G,Flex:$}=wp.components,{InspectorControls:K,BlockControls:Z,InnerBlocks:J,useBlockProps:Q,__experimentalUseInnerBlocksProps:ee,__experimentalLinkControl:te}=wp.blockEditor,{withState:oe}=wp.compose,re=N("cumulus-gutenberg/imageflip",{apiVersion:2,title:"Flip Card",description:"Gutenberg 3d flipping card block",keywords:["image","hover","flip","imageflip","card","flipcard"],category:"design",icon:{src:"format-gallery",foreground:"#3399cc"},supports:{html:!1,anchor:!0,alignWide:!1,customClassName:!1,__experimentalBorder:{radius:!0}},attributes:{linkUrl:{type:"string"},linkTarget:{type:"string"},linkTitle:{type:"string"},linkRel:{type:"string,"},flipDirection:{type:"string",default:"horizontal"},zoomOnHover:{type:"boolean",default:!0},childBorderRadius:{type:"object",default:{topLeft:"0.6em",topRight:"0.6em",bottomRight:"0.6em",bottomLeft:"0.6em"}}},providesContext:{"cumulus-flipcard/borderRadius":"childBorderRadius"},edit:oe({showFront:!0})(e=>{const{showFront:t,attributes:o,setAttributes:r,setState:n}=e,c=["crsg-flipcard","crsg-flipcard-"+o.flipDirection,"show-face-"+(t?"front":"back")],d=Q({className:c}),s=ee({className:"crsg-flipcard-container",title:"CardFlip Container"},{template:[["cumulus-gutenberg/imageflip-face",{face:"front"},[]],["cumulus-gutenberg/imageflip-face",{face:"back"},[]]],templateLock:"insert"});return Object(l.createElement)("div",d,Object(l.createElement)(Z,{group:"block"},Object(l.createElement)(D,null,Object(l.createElement)(M,null,e=>Object(l.createElement)(A,{toggleProps:e,icon:"image-flip-"+o.flipDirection,label:"Change flip direction",text:o.flipDirection.charAt(0).toUpperCase()+o.flipDirection.slice(1),controls:[{icon:"image-flip-horizontal",title:"Horizontal",isActive:"horizontal"===o.flipDirection,onClick:()=>r({flipDirection:"horizontal"})},{icon:"image-flip-vertical",title:"Vertical",isActive:"vertical"===o.flipDirection,onClick:()=>r({flipDirection:"vertical"})}]}))),Object(l.createElement)(D,null,Object(l.createElement)(M,{as:q,icon:"randomize",title:"Flip the card face",onClick:()=>n({showFront:!t})},"Viewing: ",t?"FRONT":"BACK"))),Object(l.createElement)(K,null,Object(l.createElement)(U,null,Object(l.createElement)(W,{title:"Link"},Object(l.createElement)(te,{label:"Link the card",value:{url:o.linkUrl,opensInNewTab:"_blank"===o.linkTarget},onChange:e=>{e||(e=void 0);const t={linkUrl:e.url,linkTitle:e.title===e.url?o.linkTitle:e.title,linkTarget:e.opensInNewTab?"_blank":void 0,linkRel:e.opensInNewTab?"noopener":void 0};r(t)}}),Object(l.createElement)(H,{label:"Link Title",value:o.linkTitle||void 0,onChange:e=>{r({linkTitle:e})}}),o.linkUrl&&Object(l.createElement)(Y,{className:"button button-large",onClick:()=>{r({linkUrl:re.attributes.linkUrl.default,linkTarget:re.attributes.linkTarget.default,linkTitle:re.attributes.linkTitle.default,linkRel:re.attributes.linkRel.default})}},"Unlink Card")),Object(l.createElement)(W,{title:"Flip Effect",initialOpen:!1},Object(l.createElement)(X,{label:"Direction",value:o.flipDirection,onChange:e=>r({flipDirection:e}),options:[{value:"horizontal",label:"Horizontal"},{value:"vertical",label:"Vertical"}]}),Object(l.createElement)(V,{label:"Zoom",checked:o.zoomOnHover,onChange:e=>{r({zoomOnHover:e})}})),Object(l.createElement)(W,{title:"Border Radius",initialOpen:!Object(i.isEqual)(o.childBorderRadius,re.attributes.childBorderRadius.default)},Object(l.createElement)(F,null,Object(l.createElement)($,null,Object(l.createElement)(G,{label:"TL ┏",size:"small",units:a,value:o.childBorderRadius.topLeft,onChange:e=>{const t={...o.childBorderRadius,topLeft:e};r({childBorderRadius:t})}}),Object(l.createElement)(G,{label:"TR ┓",size:"small",units:a,value:o.childBorderRadius.topRight,onChange:e=>{const t={...o.childBorderRadius,topRight:e};r({childBorderRadius:t})}}),Object(l.createElement)(G,{label:"BR ┛",size:"small",units:a,value:o.childBorderRadius.bottomRight,onChange:e=>{const t={...o.childBorderRadius,bottomRight:e};r({childBorderRadius:t})}}),Object(l.createElement)(G,{label:"BL ┗",size:"small",units:a,value:o.childBorderRadius.bottomLeft,onChange:e=>{const t={...o.childBorderRadius,bottomLeft:e};r({childBorderRadius:t})}}))),Object(l.createElement)(F,null,!Object(i.isEqual)(o.childBorderRadius,re.attributes.childBorderRadius.default)&&Object(l.createElement)(Y,{className:"button button-small",onClick:()=>{r({childBorderRadius:re.attributes.childBorderRadius.default})}},"Reset"))))),Object(l.createElement)("div",s,s.children))}),save:e=>{const{attributes:t}=e,o=["crsg-flipcard","crsg-flipcard-"+t.flipDirection];t.zoomOnHover&&o.push("has-zoom-on-hover");let r={};t.linkUrl&&(r={href:t.linkUrl,target:t.linkTarget,title:t.linkTitle,rel:t.linkRel});const i=Q.save({className:o.join(" "),...r});return Object(l.createElement)(e=>e.isLink?Object(l.createElement)("a",e,e.children):Object(l.createElement)("div",e,e.children),n()({isLink:t.linkUrl&&t.linkUrl.length>0},i),Object(l.createElement)("div",{className:"crsg-flipcard-container"},Object(l.createElement)(J.Content,null)))}})}]);